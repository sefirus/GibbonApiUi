import{a as N,b as T,c as q,e as Q}from"./chunk-ZIWOXXWQ.js";import{U as P,V as W,Y as U,_ as L,ba as B,ca as D,da as j,ea as k,fa as A,ha as G,ia as z,ja as H,ka as J,l as R,ma as K,oa as O}from"./chunk-BDVB6HW4.js";import{Bb as b,Cb as M,Jb as d,Kb as l,Lb as F,Mb as h,Nb as C,Ob as S,Pb as v,Rb as I,Wa as o,Xa as E,la as x,mb as w,ob as g,qc as V,ua as f,ub as n,va as _,vb as t,zb as y}from"./chunk-I5VNOJVT.js";function X(r,a){if(r&1&&(n(0,"mat-error"),l(1),t()),r&2){let p=M(),e=d(10);o(),h(" ",p.getEmailErrorMessage(e)," ")}}function Y(r,a){if(r&1&&(n(0,"mat-error"),l(1),t()),r&2){let p=M(),e=d(16);o(),h(" ",p.getPasswordErrorMessage(e)," ")}}function Z(r,a){if(r&1&&(n(0,"mat-error"),l(1),t()),r&2){let p=M();o(),F(p.apiError)}}var le=(()=>{let a=class a{constructor(e,s){this.userService=e,this.router=s,this.user={email:"",password:""},this.apiError=null}onSubmit(e){e.valid&&this.userService.registerUser(this.user).subscribe({next:s=>{this.apiError=null,e.reset(),this.router.navigate(["/workspaces"])},error:s=>{this.apiError=s.error.message||"Registration failed"}})}getEmailErrorMessage(e){return e.errors?.required?"Email is required":e.errors?.email?"Not a valid email":""}getPasswordErrorMessage(e){return e.errors?.required?"Password is required":e.errors?.minlength?"Password must be at least 6 characters long":""}};a.\u0275fac=function(s){return new(s||a)(E(Q),E(R))},a.\u0275cmp=x({type:a,selectors:[["app-register-form"]],standalone:!0,features:[I],decls:21,vars:6,consts:[["signUpForm","ngForm"],["email","ngModel"],["password","ngModel"],[2,"width","100%","padding","var(--dl-space-space-unit)"],[2,"display","flex","flex-direction","column","gap","20px",3,"ngSubmit"],["appearance","fill",2,"width","100%"],["matInput","","type","email","name","email","required","","email","",3,"ngModelChange","ngModel"],[4,"ngIf"],["matInput","","type","password","name","password","required","","minlength","6",3,"ngModelChange","ngModel"],["color","black","mat-button","","mat-raised-button","","type","submit",3,"disabled"]],template:function(s,m){if(s&1){let u=y();n(0,"mat-card",3)(1,"mat-card-title"),l(2,"Sign Up Now"),t(),n(3,"mat-card-content")(4,"form",4,0),b("ngSubmit",function(){f(u);let i=d(5);return _(m.onSubmit(i))}),n(6,"mat-form-field",5)(7,"mat-label"),l(8,"Email"),t(),n(9,"input",6,1),v("ngModelChange",function(i){return f(u),S(m.user.email,i)||(m.user.email=i),_(i)}),t(),w(11,X,2,1,"mat-error",7),t(),n(12,"mat-form-field",5)(13,"mat-label"),l(14,"Password"),t(),n(15,"input",8,2),v("ngModelChange",function(i){return f(u),S(m.user.password,i)||(m.user.password=i),_(i)}),t(),w(17,Y,2,1,"mat-error",7),t(),n(18,"button",9),l(19,"Register"),t(),w(20,Z,2,1,"mat-error",7),t()()()}if(s&2){let u=d(5),c=d(10),i=d(16);o(9),C("ngModel",m.user.email),o(2),g("ngIf",c.invalid&&c.touched),o(4),C("ngModel",m.user.password),o(2),g("ngIf",i.invalid&&i.touched),o(),g("disabled",!u.valid),o(2),g("ngIf",m.apiError)}},dependencies:[N,T,q,J,A,L,B,D,G,H,z,k,j,U,W,V,O,K,P]});let r=a;return r})();export{le as a};
